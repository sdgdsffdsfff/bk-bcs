## 机器配置

- `CPU`: 24核心 2.5GHz
- `内存`: 32GB
- `磁盘`: 256GB

## 部署方式

- DB分片：单分片
- DB实例配置：24核心 2.5GHz 32G内存
- 后台服务节点数量：单节点
- 后台服务机器配置：24核心 2.5GHz 32G内存 1KMb网卡

## 压测数据

### 容器链路压测数据
> CPU压测到80+%占用

`PullConfigList(拉取配置列表)`:

```shell
并发数:500   请求量:50000   耗时:2秒   QPS:23946  成功数量:50000   失败数量:0    平均响应时间:13毫秒   最小响应时间:1毫秒  最大响应时间:1423毫秒
并发数:1000  请求量:100000  耗时:4秒   QPS:23673  成功数量:100000  失败数量:0    平均响应时间:28毫秒   最小响应时间:1毫秒  最大响应时间:1607毫秒
并发数:1500  请求量:150000  耗时:6秒   QPS:24934  成功数量:149875  失败数量:125  平均响应时间:39毫秒   最小响应时间:1毫秒  最大响应时间:3023毫秒
并发数:2000  请求量:200000  耗时:6秒   QPS:29002  成功数量:199895  失败数量:105  平均响应时间:54毫秒   最小响应时间:1毫秒  最大响应时间:3004毫秒
并发数:2500  请求量:250000  耗时:8秒   QPS:29147  成功数量:249840  失败数量:160  平均响应时间:69毫秒   最小响应时间:1毫秒  最大响应时间:3080毫秒
并发数:3000  请求量:300000  耗时:9秒   QPS:31243  成功数量:299791  失败数量:209  平均响应时间:79毫秒   最小响应时间:1毫秒  最大响应时间:3038毫秒
并发数:3500  请求量:350000  耗时:10秒  QPS:31905  成功数量:349868  失败数量:132  平均响应时间:89毫秒   最小响应时间:1毫秒  最大响应时间:3099毫秒
并发数:4000  请求量:400000  耗时:12秒  QPS:32221  成功数量:399877  失败数量:123  平均响应时间:110毫秒  最小响应时间:1毫秒  最大响应时间:3126毫秒
```


`QueryAppMetadata(业务信息校验)`:

```shell
并发数:500   请求量:50000   耗时:2秒   QPS:19762  成功数量:50000   失败数量:0    平均响应时间:13毫秒   最小响应时间:1毫秒  最大响应时间:1446毫秒
并发数:1000  请求量:100000  耗时:4秒   QPS:21422  成功数量:99996   失败数量:4    平均响应时间:21毫秒   最小响应时间:1毫秒  最大响应时间:3001毫秒
并发数:1500  请求量:150000  耗时:6秒   QPS:23123  成功数量:149914  失败数量:86   平均响应时间:32毫秒   最小响应时间:1毫秒  最大响应时间:3019毫秒
并发数:2000  请求量:200000  耗时:7秒   QPS:26943  成功数量:199825  失败数量:175  平均响应时间:46毫秒   最小响应时间:1毫秒  最大响应时间:3027毫秒
并发数:2500  请求量:250000  耗时:8秒   QPS:28818  成功数量:249837  失败数量:163  平均响应时间:59毫秒   最小响应时间:1毫秒  最大响应时间:3015毫秒
并发数:3000  请求量:300000  耗时:9秒   QPS:32690  成功数量:299779  失败数量:221  平均响应时间:69毫秒   最小响应时间:1毫秒  最大响应时间:3037毫秒
并发数:3500  请求量:350000  耗时:9秒   QPS:35750  成功数量:349814  失败数量:186  平均响应时间:81毫秒   最小响应时间:1毫秒  最大响应时间:3126毫秒
并发数:4000  请求量:400000  耗时:11秒  QPS:35723  成功数量:399808  失败数量:192  平均响应时间:94毫秒   最小响应时间:1毫秒  最大响应时间:3098毫秒
```


`TargetRelease(拉取指定版本)`:

```shell
并发数:500   请求量:50000   耗时:3秒   QPS:12506  成功数量:50000   失败数量:0    平均响应时间:29毫秒   最小响应时间:2毫秒  最大响应时间:2238毫秒
并发数:1000  请求量:100000  耗时:7秒   QPS:13011  成功数量:99947   失败数量:53   平均响应时间:60毫秒   最小响应时间:1毫秒  最大响应时间:3002毫秒
并发数:1500  请求量:150000  耗时:11秒  QPS:13287  成功数量:149973  失败数量:27   平均响应时间:91毫秒   最小响应时间:1毫秒  最大响应时间:3500毫秒
并发数:2000  请求量:200000  耗时:14秒  QPS:13535  成功数量:199860  失败数量:140  平均响应时间:123毫秒  最小响应时间:1毫秒  最大响应时间:4115毫秒
并发数:2500  请求量:250000  耗时:18秒  QPS:13691  成功数量:249841  失败数量:159  平均响应时间:153毫秒  最小响应时间:1毫秒  最大响应时间:4345毫秒
并发数:3000  请求量:300000  耗时:21秒  QPS:14202  成功数量:299833  失败数量:167  平均响应时间:182毫秒  最小响应时间:1毫秒  最大响应时间:3189毫秒
并发数:3500  请求量:350000  耗时:25秒  QPS:14368  成功数量:349752  失败数量:248  平均响应时间:214毫秒  最小响应时间:1毫秒  最大响应时间:3223毫秒
并发数:4000  请求量:400000  耗时:27秒  QPS:14603  成功数量:399735  失败数量:265  平均响应时间:244毫秒  最小响应时间:1毫秒  最大响应时间:3280毫秒
```


`NewestRelease(版本树拉取最新版本)`:

```shell
并发数:500   请求量:50000   耗时:4秒   QPS:10850  成功数量:50000   失败数量:0    平均响应时间:37毫秒   最小响应时间:2毫秒  最大响应时间:1601毫秒
并发数:1000  请求量:100000  耗时:8秒   QPS:11148  成功数量:99973   失败数量:27   平均响应时间:66毫秒   最小响应时间:1毫秒  最大响应时间:3001毫秒
并发数:1500  请求量:150000  耗时:12秒  QPS:12069  成功数量:149942  失败数量:58   平均响应时间:102毫秒  最小响应时间:2毫秒  最大响应时间:3002毫秒
并发数:2000  请求量:200000  耗时:16秒  QPS:12328  成功数量:199882  失败数量:118  平均响应时间:138毫秒  最小响应时间:2毫秒  最大响应时间:3004毫秒
并发数:2500  请求量:250000  耗时:18秒  QPS:13289  成功数量:249821  失败数量:179  平均响应时间:170毫秒  最小响应时间:2毫秒  最大响应时间:3287毫秒
并发数:3000  请求量:300000  耗时:22秒  QPS:13628  成功数量:299830  失败数量:170  平均响应时间:200毫秒  最小响应时间:1毫秒  最大响应时间:4156毫秒
并发数:3500  请求量:350000  耗时:26秒  QPS:13020  成功数量:349797  失败数量:203  平均响应时间:238毫秒  最小响应时间:2毫秒  最大响应时间:3364毫秒
并发数:4000  请求量:400000  耗时:30秒  QPS:13213  成功数量:399772  失败数量:228  平均响应时间:266毫秒  最小响应时间:1毫秒  最大响应时间:3320毫秒
```


`Report(上报生效信息)`:

```shell
并发数:500   请求量:50000   耗时:1秒   QPS:25906  成功数量:50000   失败数量:0    平均响应时间:12毫秒   最小响应时间:1毫秒  最大响应时间:1607毫秒
并发数:1000  请求量:100000  耗时:3秒   QPS:27800  成功数量:99946   失败数量:54   平均响应时间:25毫秒   最小响应时间:1毫秒  最大响应时间:3001毫秒
并发数:1500  请求量:150000  耗时:5秒   QPS:28957  成功数量:150000  失败数量:0    平均响应时间:42毫秒   最小响应时间:1毫秒  最大响应时间:1648毫秒
并发数:2000  请求量:200000  耗时:6秒   QPS:29507  成功数量:199987  失败数量:13   平均响应时间:55毫秒   最小响应时间:1毫秒  最大响应时间:3001毫秒
并发数:2500  请求量:250000  耗时:8秒   QPS:29332  成功数量:249867  失败数量:133  平均响应时间:66毫秒   最小响应时间:1毫秒  最大响应时间:3035毫秒
并发数:3000  请求量:300000  耗时:9秒   QPS:30048  成功数量:299857  失败数量:143  平均响应时间:83毫秒   最小响应时间:1毫秒  最大响应时间:3087毫秒
并发数:3500  请求量:350000  耗时:11秒  QPS:29734  成功数量:349857  失败数量:143  平均响应时间:99毫秒   最小响应时间:1毫秒  最大响应时间:3013毫秒
并发数:4000  请求量:400000  耗时:14秒  QPS:27851  成功数量:399788  失败数量:212  平均响应时间:116毫秒  最小响应时间:1毫秒  最大响应时间:3004毫秒
```

## 进程链路压测数据
> CPU压测到80+%占用

说明：Runtime性能(实际运行请求量)
>现网运行时，指定节点数下产生的实际请求量。实际运行时所有节点不会同时拉取数据，版本同步为周期性同步、版本下发时也为分批下发，不会让大量节点同时拉取。

## 水平扩容
>内部业务数据可以指定DB分片存储，该分片可以是同DB实例的不同database，也可以是物理上完全不同的两个DB实例，后台服务具备
>多业务DB分片纳管能力。故此在性能上后台服务和业务DB分片都可以进行水平扩展和迁移。

### 后台服务水平扩容

- 后台服务均为无状态服务
- 内部节点之间自动发现
- 接入服务可动态调度业务节点实例请求

### DB分片水平扩容

- 每个业务可以指定单独的DB分片
- 业务的DB分片相互隔离（DB实例物理级别隔离）
- 支持多业务DB分片纳管
